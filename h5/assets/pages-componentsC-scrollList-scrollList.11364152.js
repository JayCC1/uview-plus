import{j as t,m as l,k as i,o,c as s,w as e,a as r,l as a,q as n,n as c,i as d,S as u,f as _,b as m,r as h,F as p,g,d as f,p as b,t as w,e as y}from"./index.639d3d9d.js";import{_ as W}from"./u-icon.8fecb8b7.js";import{r as x}from"./uni-app.es.f87317fd.js";import{_ as v}from"./plugin-vue_export-helper.21dcd24c.js";var S={props:{indicatorWidth:{type:[String,Number],default:t.scrollList.indicatorWidth},indicatorBarWidth:{type:[String,Number],default:t.scrollList.indicatorBarWidth},indicator:{type:Boolean,default:t.scrollList.indicator},indicatorColor:{type:String,default:t.scrollList.indicatorColor},indicatorActiveColor:{type:String,default:t.scrollList.indicatorActiveColor},indicatorStyle:{type:[String,Object],default:t.scrollList.indicatorStyle}}};function C(t,l){t.selectComponent(".u-scroll-list__indicator__line__bar")&&t.selectComponent(".u-scroll-list__indicator__line__bar").setStyle({transform:"translateX("+l+"px)"})}const j={scroll:function(t,l){var i=t.detail,o=i.scrollWidth,s=i.scrollLeft,e=t.currentTarget.dataset;C(l,s/(o-(e.scrollWidth||e.scrollwidth||0))*((e.indicatorWidth||e.indicatorwidth||0)-(e.barWidth||e.barwidth||0)))},scrolltolower:function(t,l){l.callMethod("scrollEvent","right");var i=t.currentTarget.dataset;C(l,(i.indicatorWidth||i.indicatorwidth||0)-(i.barWidth||i.barwidth||0))},scrolltoupper:function(t,l){l.callMethod("scrollEvent","left"),C(l,0)}};var k=t=>{t.$wxs||(t.$wxs=[]),t.$wxs.push("wxs"),t.mixins||(t.mixins=[]),t.mixins.push({beforeCreate(){this.wxs=j}})};const $={name:"u-scroll-list",mixins:[l,i,S],data:()=>({scrollInfo:{scrollLeft:0,scrollWidth:0},scrollWidth:0}),computed:{barStyle(){const t={};return t.width=uni.$u.addUnit(this.indicatorBarWidth),t.backgroundColor=this.indicatorActiveColor,t},lineStyle(){const t={};return t.width=uni.$u.addUnit(this.indicatorWidth),t.backgroundColor=this.indicatorColor,t}},mounted(){this.init()},methods:{init(){this.getComponentWidth()},scrollEvent(t){this.$emit(t)},async getComponentWidth(){await uni.$u.sleep(30),this.$uGetRect(".u-scroll-list").then((t=>{this.scrollWidth=t.width}))}}};k($);var L=v($,[["render",function(t,l,i,_,m,h){const p=d,g=u;return o(),s(p,{class:"u-scroll-list",ref:"u-scroll-list"},{default:e((()=>[r(g,{class:"u-scroll-list__scroll-view","scroll-x":"",onScroll:t.wxs.scroll,onScrolltoupper:t.wxs.scrolltoupper,onScrolltolower:t.wxs.scrolltolower,"data-scrollWidth":m.scrollWidth,"data-barWidth":t.$u.getPx(t.indicatorBarWidth),"data-indicatorWidth":t.$u.getPx(t.indicatorWidth),"show-scrollbar":!1,"upper-threshold":0,"lower-threshold":0},{default:e((()=>[r(p,{class:"u-scroll-list__scroll-view__content"},{default:e((()=>[a(t.$slots,"default",{},void 0,!0)])),_:3})])),_:3},8,["onScroll","onScrolltoupper","onScrolltolower","data-scrollWidth","data-barWidth","data-indicatorWidth"]),t.indicator?(o(),s(p,{key:0,class:"u-scroll-list__indicator",style:n([t.$u.addStyle(t.indicatorStyle)])},{default:e((()=>[r(p,{class:"u-scroll-list__indicator__line",style:n([h.lineStyle])},{default:e((()=>[r(p,{class:"u-scroll-list__indicator__line__bar",style:n([h.barStyle]),ref:"u-scroll-list__indicator__line__bar"},null,8,["style"])])),_:1},8,["style"])])),_:1},8,["style"])):c("",!0)])),_:3},512)}],["__scopeId","data-v-47c5d166"]]);var B=v({data:()=>({goodsBaseUrl:"https://cdn.uviewui.com/uview/goods/",menuBaseUrl:"https://cdn.uviewui.com/uview/menu/",goodsArr:[{price:"230.5",thumbnail:"1.jpg"},{price:"74.1",thumbnail:"2.jpg"},{price:"8457",thumbnail:"6.jpg"},{price:"1442",thumbnail:"5.jpg"},{price:"541",thumbnail:"2.jpg"},{price:"234",thumbnail:"3.jpg"},{price:"562",thumbnail:"4.jpg"},{price:"251.5",thumbnail:"1.jpg"}],menuArr:[[{name:"天猫新品",icon:"11.png"},{name:"今日爆款",icon:"9.png"},{name:"天猫国际",icon:"17.png"},{name:"饿了么",icon:"6.png"},{name:"天猫超市",icon:"11.png"},{name:"分类",icon:"2.png"},{name:"天猫美食",icon:"3.png"},{name:"阿里健康",icon:"12.png"},{name:"口碑生活",icon:"7.png"}],[{name:"充值中心",icon:"8.png"},{name:"机票酒店",icon:"10.png"},{name:"金币庄园",icon:"18.png"},{name:"阿里拍卖",icon:"15.png"},{name:"淘宝吃货",icon:"16.png"},{name:"闲鱼",icon:"4.png"},{name:"会员中心",icon:"6.png"},{name:"造点新货",icon:"13.png"},{name:"土货鲜食",icon:"14.png"}]]}),methods:{showMore(){uni.$u.toast("查看更多")},left(){console.log("left")},right(){console.log("right")}}},[["render",function(t,l,i,a,n,c){const u=g,v=y,S=d,C=x(f("u-icon"),W),j=x(f("u-scroll-list"),L);return o(),s(S,{class:"u-page"},{default:e((()=>[r(S,{class:"u-demo-block"},{default:e((()=>[r(u,{class:"u-demo-block__title",style:{"margin-bottom":"15px"}},{default:e((()=>[_("基础使用")])),_:1}),r(j,{indicatorColor:"#fff0f0",indicatorActiveColor:"#f56c6c",onRight:c.right,onLeft:c.left},{default:e((()=>[r(S,{class:"scroll-list",style:{"flex-direction":"row"}},{default:e((()=>[(o(!0),m(p,null,h(n.goodsArr,((t,l)=>(o(),s(S,{class:b(["scroll-list__goods-item",[9===l&&"scroll-list__goods-item--no-margin-right"]]),key:l},{default:e((()=>[r(v,{class:"scroll-list__goods-item__image",src:n.goodsBaseUrl+t.thumbnail,mode:""},null,8,["src"]),r(u,{class:"scroll-list__goods-item__text"},{default:e((()=>[_("￥"+w(t.price),1)])),_:2},1024)])),_:2},1032,["class"])))),128)),r(S,{class:"scroll-list__show-more",onClick:c.showMore},{default:e((()=>[r(u,{class:"scroll-list__show-more__text"},{default:e((()=>[_("查看更多")])),_:1}),r(C,{name:"arrow-leftward",color:"#f56c6c",size:"12"})])),_:1},8,["onClick"])])),_:1})])),_:1},8,["onRight","onLeft"])])),_:1}),r(S,{class:"u-demo-block"},{default:e((()=>[r(u,{class:"u-demo-block__title"},{default:e((()=>[_("多菜单扩展")])),_:1}),r(j,null,{default:e((()=>[r(S,{class:"scroll-list"},{default:e((()=>[(o(!0),m(p,null,h(n.menuArr,((t,l)=>(o(),s(S,{class:"scroll-list__line",key:l},{default:e((()=>[(o(!0),m(p,null,h(t,((l,i)=>(o(),s(S,{class:b(["scroll-list__line__item",[i===t.length-1&&"scroll-list__line__item--no-margin-right"]]),key:i},{default:e((()=>[r(v,{class:"scroll-list__line__item__image",src:n.menuBaseUrl+l.icon,mode:""},null,8,["src"]),r(u,{class:"scroll-list__line__item__text"},{default:e((()=>[_(w(l.name),1)])),_:2},1024)])),_:2},1032,["class"])))),128))])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-d30f8b52"]]);export{B as default};
