import{_ as t}from"./u-loading-icon.1043df4a.js";import{m as o,k as e,d as i,o as s,c as n,w as a,a as r,p as m,q as l,n as c,f as p,t as u,g,i as f}from"./index.639d3d9d.js";import{r as d}from"./uni-app.es.f87317fd.js";import{_ as y}from"./u-icon.8fecb8b7.js";import{_ as h}from"./u-gap.299d3089.js";import{_ as C}from"./u-overlay.d6cc6c6f.js";import{_}from"./plugin-vue_export-helper.21dcd24c.js";var w=_({name:"u-toast",mixins:[o,e],data:()=>({isShow:!1,timer:null,config:{message:"",type:"",duration:2e3,icon:!0,position:"center",complete:null,overlay:!1,loading:!1},tmpConfig:{}}),computed:{iconName(){return this.tmpConfig.icon&&"none"!=this.tmpConfig.icon&&["error","warning","success","primary"].includes(this.tmpConfig.type)?uni.$u.type2icon(this.tmpConfig.type):""},overlayStyle(){const t={justifyContent:"center",alignItems:"center",display:"flex",backgroundColor:"rgba(0, 0, 0, 0)"};return t},iconStyle(){const t={marginRight:"4px"};return t},loadingIconColor(){let t="rgb(255, 255, 255)";return["error","warning","success","primary"].includes(this.tmpConfig.type)&&(t=uni.$u.hexToRgb(uni.$u.color[this.tmpConfig.type])),t},contentStyle(){const t=uni.$u.sys().windowHeight,o={};let e=0;return"top"===this.tmpConfig.position?e=.25*-t:"bottom"===this.tmpConfig.position&&(e=.25*t),o.transform=`translateY(${e}px)`,o}},created(){["primary","success","error","warning","default","loading"].map((t=>{this[t]=o=>this.show({type:t,message:o})}))},methods:{show(t){this.tmpConfig=uni.$u.deepMerge(this.config,t),this.clearTimer(),this.isShow=!0,this.timer=setTimeout((()=>{this.clearTimer(),"function"==typeof this.tmpConfig.complete&&this.tmpConfig.complete()}),this.tmpConfig.duration)},hide(){this.clearTimer()},clearTimer(){this.isShow=!1,clearTimeout(this.timer),this.timer=null}},beforeDestroy(){this.clearTimer()}},[["render",function(o,e,_,w,b,x){const S=d(i("u-loading-icon"),t),v=d(i("u-icon"),y),j=d(i("u-gap"),h),T=g,$=f,k=d(i("u-overlay"),C);return s(),n($,{class:"u-toast"},{default:a((()=>[r(k,{show:b.isShow,"custom-style":x.overlayStyle},{default:a((()=>[r($,{class:m(["u-toast__content",["u-type-"+b.tmpConfig.type,"loading"===b.tmpConfig.type||b.tmpConfig.loading?"u-toast__content--loading":""]]),style:l([x.contentStyle])},{default:a((()=>["loading"===b.tmpConfig.type?(s(),n(S,{key:0,mode:"circle",color:"rgb(255, 255, 255)",inactiveColor:"rgb(120, 120, 120)",size:"25"})):"defalut"!==b.tmpConfig.type&&x.iconName?(s(),n(v,{key:1,name:x.iconName,size:"17",color:b.tmpConfig.type,customStyle:x.iconStyle},null,8,["name","color","customStyle"])):c("",!0),"loading"===b.tmpConfig.type||b.tmpConfig.loading?(s(),n(j,{key:2,height:"12",bgColor:"transparent"})):c("",!0),r(T,{class:m(["u-toast__content__text",["u-toast__content__text--"+b.tmpConfig.type]]),style:{"max-width":"400rpx"}},{default:a((()=>[p(u(b.tmpConfig.message),1)])),_:1},8,["class"])])),_:1},8,["style","class"])])),_:1},8,["show","custom-style"])])),_:1})}],["__scopeId","data-v-d4518b2e"]]);export{w as _};
